<template>
  <div class="page">
    <div class="navbar" style="background-color:darkorange!important; color:white!important;">
      <div class="navbar-inner sliding">
        <div class="left">
          <a href="#" class="link back color-blue">
            <i class="fas fa-chevron-left" style="color: white"></i>
          </a>
        </div>
        <div class="title">Thông tin người dùng</div>
      </div>
    </div>
    <div class="page-content">
      <div class="block block-strong">
        <p>Xin chào {{user.user_name}}!</p>
        <p>Bạn đang sử dụng Kerrier Mobile Version: {{version}}</p>
      </div>
      <div class="block-title">Tác vụ</div>
      <div class="block block-strong">
        <a href="/changepass/" class="button button-raised" >Đổi mật khẩu</a>
      </div>      
    </div>
  </div>
</template>
<style>
  p {
    margin: 10px 0;
  }
</style>
<script>
  return {
    // Lifecycle Hooks
    beforeCreate: function () {
            console.log('componentBeforeCreate', this)
        },
        created: function () {
            console.log('componentCreated', this)
        },
        beforeMount: function () {
            console.log('componentBeforeMount', this)
        },
        mounted: function () {
            console.log('componentMounted', this);
        },
        beforeDestroy: function () {
            console.log('componentBeforeDestroy', this);

        },
        destroyed: function () {
            console.log('componentDestroyed', this);

        },
    // Component Data
    data: function () {
      // Must return an object
      return {
        user: app.data.user,
        version: app.version
      }
    },
    // Component Methods
    methods: {
      changePass: function () {
        var self = this;



        self.$app.dialog.alert('Đổi mật khẩu thành công. Hệ thống tự đăng xuất để bạn đăng nhập lại');
        NativeStorage.setItem("userInfo", {}, setUserInfoSuccess, setUserInfoError);
        app.loginScreen.open("#my-login-screen");
        location.reload();
      },
    },
    // Page Events
    on: {
      pageMounted: function(e, page) {
        console.log('pageMounted', page);
      },
      pageInit: function(e, page) {
        console.log('pageInit', page);
      },
      pageBeforeIn: function(e, page) {
        console.log('pageBeforeIn', page);
      },
      pageAfterIn: function(e, page) {
        console.log('pageAfterIn', page);
      },
      pageBeforeOut: function(e, page) {
        console.log('pageBeforeOut', page);
      },
      pageAfterOut: function(e, page) {
        console.log('pageAfterOut', page);
      },
      pageBeforeRemove: function(e, page) {
        console.log('pageBeforeRemove', page);
      },
    }
  }
</script>
